# vlabs/python_pipeline/get_device_facts/get_device_facts.yml

parameters:
  - name: inventory_file
    label: Inventory File
    type: enum
    description: Select the Ansible inventory file to use. Mutually exclusive with 'Hosts'.
    required: false

  - name: hosts
    label: Hosts
    type: string
    description: Enter host(s) manually (comma-separated). Mutually exclusive with 'Inventory File'.
    required: false
    placeholder: e.g., device1.lab.com,10.0.0.1,device3.local

  - name: username
    type: string
    label: "SSH Username"
    description: "Username for connecting to network devices."
    required: true
    placeholder: "e.g., admin"

  - name: password
    type: string
    label: "SSH Password"
    description: "Password for connecting to network devices."
    required: true
    placeholder: "Enter password"
    sensitive: true

  # --- ADD THIS NEW PARAMETER ---
  - name: backup_config
    type: boolean
    label: "Backup Configuration"
    description: "If checked, backs up the device configuration in 'set' format to the 'configuration_backup' folder."
    defaultValue: false
    required: false

  - name: dry_run
    type: boolean
    label: "Dry Run (Simulate Connection)"
    description: "If checked, simulates connections without fetching actual data from devices."
    defaultValue: false
    required: false

resources: []
