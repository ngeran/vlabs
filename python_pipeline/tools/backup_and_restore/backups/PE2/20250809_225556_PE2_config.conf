## Last changed: 2025-08-09 22:52:08 UTC version 20250314.171404_builder.r1479783; groups { basic { system { host-name PE2; root-authentication { encrypted-password "$6$A3X/R$3t2noCeNUeA9t1HzMKvuvb3lJr29X9Oe8e.j.W0a04GVoWNGOBxWtztR/D.FKgBNcxs/3ZWiVrBfStXiAsjMj1"; } login { user admin { uid 2000; class super-user; authentication { encrypted-password "$6$TV8qp$kiGVs8/j/hPPdrmoVtP5ydotCj04g.OeiL5pWoVhB96y.M3Fwa4vC.1MKyhBH5t7YQNF3m2z2GcX53KjI2YFr1"; } } } services { netconf { ssh; } ssh; } } } OSPF { protocols { ospf { area 0.0.0.0 { interface <eth*> { interface-type p2p; link-protection; bfd-liveness-detection { minimum-interval 300; multiplier 3; } ldp-synchronization; } interface lo0.0 { passive; } interface eth1 { disable; } } } } } LDP { protocols { ldp { track-igp-metric; explicit-null; interface eth1 { disable; } interface lo0.0; } } } MPLS { protocols { mpls { explicit-null; interface eth1 { disable; } } } } } apply-groups [ basic OSPF LDP MPLS ]; interfaces { lo0 { unit 0 { family inet { address 10.100.255.9/32; } } } } policy-options { policy-statement BGP-Next-Hop { term eBGP { from { protocol bgp; route-type external; } then { next-hop self; accept; } } term iBGP { from { protocol bgp; route-type internal; } then accept; } } } routing-options { router-id 10.100.255.9; autonomous-system 64710; } protocols { bgp { group SITE-B { type external; } group iBGP-IPv4-Unicast { type internal; local-address 10.100.255.9; family inet { unicast { add-path { receive; } } } export BGP-Next-Hop; neighbor 10.100.255.6; neighbor 10.100.255.7; } } ldp { interface eth3; interface eth4; } mpls { interface eth3; interface eth4; } ospf { area 0.0.0.0 { interface eth3; interface eth4; } } }