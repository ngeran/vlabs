## Last changed: 2025-08-09 22:52:08 UTC version 20250314.171404_builder.r1479783; groups { basic { system { host-name RR1; root-authentication { encrypted-password "$6$KO2yp$hFpsVA8E.AhY9AilV7tRy9ucIkYDyOwCg9euNfa3s2CeCW.Fmmd.dglwCh.oPUpkV.UEXqXrp/TdhmzCdUOfX/"; } login { user admin { uid 2000; class super-user; authentication { encrypted-password "$6$3.TSD$PE/PTypJUlnIJWMdw3WJ4ah3xLCeCNrzwlcLQftTkBG/V7uuI9MuETy0luVkwoLpOINbg4ZubhfFU/.xZd/a4."; } } } services { netconf { ssh; } ssh; extension-service { request-response { grpc { clear-text { address 0.0.0.0; port 50051; } max-connections 8; skip-authentication; } } notification { allow-clients { address 0.0.0.0/0; } } } } } } OSPF { protocols { ospf { area 0.0.0.0 { interface <eth*> { interface-type p2p; link-protection; bfd-liveness-detection { minimum-interval 300; multiplier 3; } ldp-synchronization; } interface lo0.0 { passive; } interface eth1 { disable; } } } } } LDP { protocols { ldp { track-igp-metric; explicit-null; interface eth1 { disable; } interface lo0.0; } } } MPLS { protocols { mpls { explicit-null; interface eth1 { disable; } } } } } apply-groups [ basic OSPF LDP MPLS ]; interfaces { eth0 { description LOOPBACK; } eth1 { description MGMT; } eth2 { description "ETH|P1|ETH5|WAN"; unit 0 { family inet; family mpls; } } eth3 { description "ETH|P2|ETH5|WAN"; unit 0 { family inet; family mpls; } } eth4 { description "ETH|RR2|ETH4|WAN"; unit 0 { family inet; family mpls; } } lo0 { unit 0 { family inet { address 10.100.255.6/32; } } } } policy-options { policy-statement BGP-Next-Hop { term eBGP { from { protocol bgp; route-type external; } then { next-hop self; accept; } } term iBGP { from { protocol bgp; route-type internal; } then accept; } } } routing-options { router-id 10.100.255.6; autonomous-system 64710; } protocols { bgp { group iBGP-IPv4-Unicast { type internal; local-address 10.100.255.6; family inet { unicast; } export BGP-Next-Hop; cluster 10.100.255.6; neighbor 10.100.255.7 { family inet { unicast; } } neighbor 10.100.255.8 { family inet { unicast; } peer-as 64710; } neighbor 10.100.255.9 { family inet { unicast; } peer-as 64710; } } } ldp { interface eth2; interface eth3; interface eth4; } mpls { interface eth2; interface eth3; interface eth4; } ospf { area 0.0.0.0 { interface eth2; interface eth3; interface eth4; } } }